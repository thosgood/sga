<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>II. Smooth morphisms: generalities, differential properties | SGA 1: Étale covers and the fundamental group</title>
  <meta name="description" content="Séminaire de Géométrie Algébrique du Bois Marie: Book 1." />
  <meta name="generator" content="bookdown 0.37 and GitBook 2.6.7" />

  <meta property="og:title" content="II. Smooth morphisms: generalities, differential properties | SGA 1: Étale covers and the fundamental group" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="Séminaire de Géométrie Algébrique du Bois Marie: Book 1." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="II. Smooth morphisms: generalities, differential properties | SGA 1: Étale covers and the fundamental group" />
  
  <meta name="twitter:description" content="Séminaire de Géométrie Algébrique du Bois Marie: Book 1." />
  

<meta name="author" content="Organised by A. Grothendieck; supplemented by Mme. M. Raynaud" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="I.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="../" style="margin-top: 5px">Return to SGA index &#8617;</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#introduction.1"><i class="fa fa-check"></i>1.</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#introduction.2"><i class="fa fa-check"></i>2.</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="foreword.html"><a href="foreword.html"><i class="fa fa-check"></i>Foreword</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html"><i class="fa fa-check"></i>I. Étale morphisms</a>
<ul>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.1"><i class="fa fa-check"></i>1. Basics of differential calculus</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.2"><i class="fa fa-check"></i>2. Quasi-finite morphisms</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.3"><i class="fa fa-check"></i>3. Unramified morphisms</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.4"><i class="fa fa-check"></i>4. Étale morphisms. Étale covers</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.5"><i class="fa fa-check"></i>5. Fundamental property of étale morphisms</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.6"><i class="fa fa-check"></i>6. Application to étale extensions of complete local rings</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.7"><i class="fa fa-check"></i>7. Local construction of unramified and étale morphisms</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.8"><i class="fa fa-check"></i>8. Infinitesimal lifting of étale schemes. Applications to formal schemes</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.9"><i class="fa fa-check"></i>9. Invariance properties</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.10"><i class="fa fa-check"></i>10. Étale covers of a normal scheme</a></li>
<li class="chapter" data-level="" data-path="I.html"><a href="I.html#I.11"><i class="fa fa-check"></i>11. Various addenda</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="II.html"><a href="II.html"><i class="fa fa-check"></i>II. Smooth morphisms: generalities, differential properties</a>
<ul>
<li class="chapter" data-level="" data-path="II.html"><a href="II.html#II.1"><i class="fa fa-check"></i>1. Generalities</a></li>
<li class="chapter" data-level="" data-path="II.html"><a href="II.html#II.2"><i class="fa fa-check"></i>2. Some smoothness criteria for morphisms</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">SGA 1: Étale covers and the fundamental group</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="II" class="section level1">
<h1>II. Smooth morphisms: generalities, differential properties</h1>
<p>References to <a href="I.html#I">Exp. I</a> are indicated by an “I”.
We recall that all rings are assumed to be Noetherian, and all preschemes locally Noetherian.</p>

<div id="II.1" class="section level2">
<h2>1. Generalities</h2>
<p>Let <eq env="math">Y</eq> be a prescheme, and <eq env="math">t_1,\ldots,t_n</eq> indeterminates;
we set</p>
<div id="equation-II.1.1" class="eqtag">
<p><eq env="displaymath">
  Y[t_1,\ldots,t_n] = Y\otimes_\mathbb{Z}\mathbb{Z}[t_1,\ldots,t_n].
\tag{1.1}
</eq></p>
</div>
<p>Then <eq env="math">Y[t_1,\ldots,t_n]</eq> is an affine <eq env="math">Y</eq>-scheme, defined by the quasi-coherent sheaf of algebras <eq env="math">{\mathcal{O}}_Y[t_1,\ldots,t_n]</eq>.
The data of a section of this prescheme over <eq env="math">Y</eq> is thus equivalent to the data of <eq env="math">n</eq> sections of <eq env="math">{\mathcal{O}}_Y</eq> (corresponding to the images of the <eq env="math">t_i</eq> under the corresponding homomorphism).
If <eq env="math">Y'</eq> is over <eq env="math">Y</eq>, then we have</p>
<div id="equation-II.1.2" class="eqtag">
<p><eq env="displaymath">
  Y[t_1,\ldots,t_n] \times_Y Y' = Y'[t_1,\ldots,t_n]
\tag{1.2}
</eq></p>
</div>
<p>(which implies that the data of a <eq env="math">Y</eq>-morphism from <eq env="math">Y'</eq> to <eq env="math">Y[t_1,\ldots,t_n]</eq> is equivalent to the data of <eq env="math">n</eq> sections of <eq env="math">{\mathcal{O}}_{Y'}</eq>).
We also have</p>
<div id="equation-II.1.3" class="eqtag">
<p><eq env="displaymath">
  \big(Y[t_1,\ldots,t_n]\big)[t_{n+1},\ldots,t_m] = Y[t_1,\ldots,t_m]
\tag{1.3}
</eq></p>
</div>
<p>by the analogous formula for rings of polynomials over <eq env="math">\mathbb{Z}</eq>.
<a href="II.html#equation-II.1.2">Equation (1.2)</a> implies that <eq env="math">Y[t_1,\ldots,t_n]</eq> varies functorially with respect to <eq env="math">Y</eq>.</p>
<p>Further, <eq env="math">Y[t_1,\ldots,t_n]</eq> is flat and of finite type over <eq env="math">Y</eq>.</p>
<div id="II.1.1a" class="rmenv" title="Definition 1.1">
<p>Let <eq env="math">f\colon X\to Y</eq> be a morphism, making <eq env="math">X</eq> a <eq env="math">Y</eq>-prescheme.
We say that <eq env="math">f</eq> is <em>smooth</em><a href="#fn20" class="footnote-ref" id="fnref20"><sup>20</sup></a> at <eq env="math">x\in X</eq>, or that <eq env="math">X</eq> is <em>smooth over <eq env="math">Y</eq> at <eq env="math">x</eq></em>, if there exists an integer <eq env="math">n\geqslant 0</eq>, an open neighbourhood <eq env="math">U</eq> of <eq env="math">x</eq>, and an étale <eq env="math">Y</eq>-morphism from <eq env="math">U</eq> to <eq env="math">Y[t_1,\ldots,t_n]</eq>.
We say that <eq env="math">f</eq> (resp. <eq env="math">X</eq>) is <em>smooth</em> if it is smooth at all points of <eq env="math">X</eq>.
An algebra <eq env="math">B</eq> over a ring <eq env="math">A</eq> is said to be smooth at a prime ideal <eq env="math">{\mathfrak{p}}</eq> of <eq env="math">B</eq> if <eq env="math">\operatorname{Spec}(B)</eq> is smooth over <eq env="math">\operatorname{Spec}(A)</eq> at the point <eq env="math">{\mathfrak{p}}</eq>;
we say that <eq env="math">B</eq> is smooth over <eq env="math">A</eq> if it smooth smooth over <eq env="math">A</eq> at all prime ideals <eq env="math">{\mathfrak{p}}</eq> of <eq env="math">B</eq>.
Finally, a local homomorphism <eq env="math">A\to B</eq> of local rings is said to be smooth, or <eq env="math">B</eq> is said to be smooth<a href="#fn21" class="footnote-ref" id="fnref21"><sup>21</sup></a> over <eq env="math">A</eq>, if <eq env="math">B</eq> is the localisation of an algebra of finite type <eq env="math">B_1</eq> that is smooth over <eq env="math">A</eq>.</p>
</div>
<p>We note that the notion of smoothness of <eq env="math">X</eq> over <eq env="math">Y</eq> is local in <eq env="math">X</eq> and in <eq env="math">Y</eq>;
if <eq env="math">X</eq> is smooth over <eq env="math">Y</eq>, then it is locally of finite type over <eq env="math">Y</eq>.</p>
<div id="II.1.1" class="itenv" title="Proposition 1.1">
<p>The set of points <eq env="math">x</eq> of <eq env="math">X</eq> at which <eq env="math">f</eq> is smooth is open.</p>
</div>
<div class="proof">
<p><span id="unlabeled-div-41" class="proof"><em>Proof</em>. </span>This is trivial, by definition.</p>
</div>
<div id="II.1.2" class="itenv" title="Corollary 1.2">
<p>If <eq env="math">B</eq> is smooth over <eq env="math">A</eq> at <eq env="math">{\mathfrak{p}}</eq>, then it is smooth over <eq env="math">A</eq> at <eq env="math">{\mathfrak{q}}</eq> for every prime ideal <eq env="math">{\mathfrak{q}}</eq> of <eq env="math">B</eq> that is contained in <eq env="math">{\mathfrak{p}}</eq>.</p>
</div>
<p>Note that <a href="II.html#II.1.1">1.1</a> also implies that the last two definitions of <a href="II.html#II.1.1a">Definition 1.1</a> agree on their common domain of existence.</p>
<div id="II.1.3" class="itenv" title="Proposition 1.3">
<p>—</p>
<ol style="list-style-type: lower-roman">
<li>An étale morphism (in particular, an open immersion, or an identity morphism) is smooth.</li>
<li>A base extension of a smooth morphism is a smooth morphism.</li>
<li>The composition of two smooth morphisms is smooth.</li>
</ol>
</div>
<div class="proof">
<p><span id="unlabeled-div-42" class="proof"><em>Proof</em>. </span>—</p>
<ol style="list-style-type: lower-roman">
<li>This is trivial by definition; more precisely, see <a href="II.html#II.1.4">1.4</a>.</li>
<li>This follows immediately from the analogous fact for étale morphisms (<a href="I.html#I.4.6">I 4.6</a>) and for the projections <eq env="math">Y[t_1,\ldots,t_n]\to Y</eq> (cf. <a href="II.html#equation-II.1.2">(1.2)</a>).</li>
<li>This follows formally from the fact that it is separately true for both “étale” (<a href="I.html#I.4.6">I 4.6</a>) and for projections of the type <eq env="math">Y[t_1,\ldots,t_n]\to Y</eq> (cf. <a href="II.html#equation-II.1.3">(1.3)</a>), and from the two facts cited for (ii): Suppose that <eq env="math">Y</eq> is smooth over <eq env="math">Z</eq>, and that <eq env="math">X</eq> is smooth over <eq env="math">Y</eq>, then we can prove that <eq env="math">X</eq> is smooth over <eq env="math">Z</eq>; we can suppose <eq env="math">Y</eq> to be étale over <eq env="math">Z[t_1,\ldots,t_n]</eq>, and <eq env="math">X</eq> to be étale over <eq env="math">Y[s_1,\ldots,s_m]</eq>, then the first hypothesis implies that <eq env="math">Y[s_1,\ldots,s_m]</eq> is étale over <eq env="math">Z[t_1,\ldots,t_n][s_1,\ldots,s_m]=Z[t_1,\ldots,s_m]</eq>, and so <eq env="math">X</eq> is étale over <eq env="math">Z[t_1,\ldots,s_m]</eq>, qed.</li>
</ol>
</div>
<div id="II.1.4" class="itenv" title="Corollary 1.4">
<p>Étale = quasi-finite + smooth.</p>
</div>
<div id="II.1.5" class="rmenv" title="Remark 1.5">
<p>The integer <eq env="math">n</eq> which appears in <a href="II.html#II.1.1a">Definition 1.1</a> is well defined, since we immediately see that it is the dimension of the local ring of <eq env="math">x</eq> in its fibre <eq env="math">f^{-1}(f(x))</eq>.
We call this the <em>relative dimension</em> of <eq env="math">X</eq> over <eq env="math">Y</eq>.
It behaves additively under composition of morphisms.</p>
</div>

</div>
<div id="II.2" class="section level2">
<h2>2. Some smoothness criteria for morphisms</h2>
<div id="II.2.1" class="itenv" title="Theorem 2.1">
<p>Let <eq env="math">f\colon X\to Y</eq> be a morphism locally of finite type, and let <eq env="math">x\in X</eq> and <eq env="math">y=f(x)</eq>.
For <eq env="math">f</eq> to be smooth at <eq env="math">x</eq>, it is necessary and sufficient that</p>
<ol style="list-style-type: lower-alpha">
<li><eq env="math">f</eq> be flat at <eq env="math">x</eq>, and</li>
<li><eq env="math">f^{-1}(y)</eq> be smooth over <eq env="math">k(y)</eq> at <eq env="math">x</eq>.</li>
</ol>
</div>
<div class="proof">
<p><span id="unlabeled-div-43" class="proof"><em>Proof</em>. </span>Since the composite of two flat morphisms is flat, and since <eq env="math">Y[t_1,\ldots,t_n]\to Y</eq> is a flat morphism, we see that smooth implies flat;
taking <a href="II.html#II.1.3">1.3, (ii)</a> into account, this proves necessity.
Now suppose that (a) and (b) are satisfied, and let <eq env="math">V</eq> be an affine neighbourhood of <eq env="math">y</eq> of ring <eq env="math">A</eq>, and <eq env="math">U</eq> an affine neighbourhood of <eq env="math">x</eq> over <eq env="math">V</eq> of ring <eq env="math">B</eq>.
Taking <eq env="math">U</eq> to be small enough, we can suppose, by (b), that there exists an <em>étale</em> <eq env="math">k(y)</eq>-morphism
<eq env="displaymath">
  g\colon U|f^{-1}(y)
  \to \operatorname{Spec}k[t_1,\ldots,t_n]
  \qquad\text{(where }k=k(y)\text{)}
</eq>
defined by <eq env="math">n</eq> sections <eq env="math">g_i</eq> of the structure sheaf of <eq env="math">U|f^{-1}(y)</eq>.
We easily note that we can suppose the <eq env="math">g_i</eq> (which are a priori elements of <eq env="math">B\otimes_A k=BS^{-1}</eq>, where <eq env="math">S=A\setminus{\mathfrak{p}}</eq>, with <eq env="math">{\mathfrak{p}}</eq> the prime ideal of <eq env="math">A</eq> corresponding to <eq env="math">y</eq>) to come from sections of the structure sheaf of <eq env="math">U</eq>, so that <eq env="math">g</eq> is induced by a morphism, also denoted by <eq env="math">g</eq>,
<eq env="displaymath">
  g\colon U
  \to Y[t_1,\ldots,t_n]
</eq>
(after possibly multiplying the <eq env="math">g_i</eq> by a single non-zero element of <eq env="math">k</eq>).
But <eq env="math">U</eq> is flat over <eq env="math">Y</eq> by (a), and so too is <eq env="math">Y[t_1,\ldots,t_n]</eq>;
we also know that <eq env="math">g</eq> induces an étale morphism between the fibres over <eq env="math">y</eq>, and so <eq env="math">g</eq> is étale at <eq env="math">x</eq> by <a href="I.html#I.5.8">I 5.8</a>.</p>
</div>
<div id="II.2.2" class="itenv" title="Corollary 2.2">
<p>Let <eq env="math">S</eq> be a prescheme, and let <eq env="math">f\colon X\to Y</eq> an <eq env="math">S</eq>-morphism of finite type, with <eq env="math">Y</eq> of finite type and flat over <eq env="math">S</eq>.
Let <eq env="math">x\in X</eq>, and let <eq env="math">s</eq> be the projection of <eq env="math">x</eq> to <eq env="math">S</eq>.
For <eq env="math">f</eq> to be smooth at <eq env="math">x</eq>, it is necessary and sufficient that <eq env="math">X</eq> be flat (or smooth) over <eq env="math">S</eq> at <eq env="math">x</eq>, and that the induced morphism <eq env="math">f_s\colon X_s\to Y_s</eq> between the fibres over <eq env="math">s</eq> be smooth at <eq env="math">x</eq>.</p>
</div>
<div class="proof">
<p><span id="unlabeled-div-44" class="proof"><em>Proof</em>. </span>Only the sufficiency needs proving, and this follows from <a href="II.html#II.2.1">2.1</a>, combined with the flatness criterion <a href="I.html#I.5.9">I 5.9</a>.</p>
</div>
<p>To state the following result, “recall” that a morphism <eq env="math">f\colon X\to Y</eq> locally of finite type is said to be <em>equidimensional</em> at the point <eq env="math">x\in X</eq> if (setting <eq env="math">y=f(x)</eq>) we can find an open neighbourhood <eq env="math">U</eq> of <eq env="math">x</eq> of which every component dominates a component of <eq env="math">Y</eq> such that, for all <eq env="math">y'\in Y</eq>, the irreducible components of <eq env="math">f^{-1}(y')\cap U</eq> all have the same dimension, independent of <eq env="math">y</eq>.
It suffices, in this condition, to take <eq env="math">y'</eq> to be the generic points of the irreducible components of <eq env="math">Y</eq> passing through <eq env="math">y</eq>, <em>and</em> the point <eq env="math">y</eq> itself.
If, for example, <eq env="math">X</eq> and <eq env="math">Y</eq> are integral and <eq env="math">f</eq> is dominant, then the condition implies that the components of the <eq env="math">f^{-1}(y)</eq> passing through <eq env="math">x</eq> have “the good” dimension, i.e. the dimension of the generic fibre (recall that they are always <eq env="math">\geqslant</eq> the dimension of the generic fibre).
If <eq env="math">f</eq> is equidimensional at <eq env="math">x</eq>, with the dimension of its fibre at <eq env="math">x</eq> being <eq env="math">n</eq>, and if <eq env="math">g\colon U\to Y'=Y[t_1,\ldots,t_n]</eq> is a <eq env="math">Y</eq>-morphism on a neighbourhood <eq env="math">U</eq> of <eq env="math">x</eq> that induces a morphism on the fibres of <eq env="math">y</eq> that is quasi-finite at <eq env="math">x</eq> (or, equivalently, if <eq env="math">g</eq> is quasi-finite at <eq env="math">x</eq>), then we can show that every irreducible component of <eq env="math">U</eq> passing through <eq env="math">x</eq> dominates an irreducible component of <eq env="math">Y'</eq>.
By the “normalisation lemma”, such a <eq env="math">g</eq> always exists (and, conversely, if there exists a quasi-finite <eq env="math">Y</eq>-morphism <eq env="math">g</eq> on an open neighbourhood <eq env="math">U</eq> of <eq env="math">x</eq> into a <eq env="math">Y</eq>-scheme of the form <eq env="math">Y'=Y[t_1,\ldots,t_n]</eq> such that every component of <eq env="math">U</eq> passing through <eq env="math">x</eq> dominates a component of <eq env="math">Y'</eq>, then <eq env="math">f</eq> is equidimensional at <eq env="math">x</eq>).
Then:</p>
<div id="II.2.3" class="itenv" title="Proposition 2.3">
<p>Let <eq env="math">f\colon X\to Y</eq> be a morphism locally of finite type, and let <eq env="math">x\in X</eq>, and <eq env="math">y=f(x)</eq>.
Suppose that <eq env="math">{\mathcal{O}}_y</eq> is normal.
For <eq env="math">f</eq> to be smooth at <eq env="math">x</eq>, it is necessary and sufficient that <eq env="math">f</eq> be equidimensional at <eq env="math">x</eq>, and that <eq env="math">f^{-1}(y)</eq> be smooth over <eq env="math">k(y)</eq> at <eq env="math">x</eq>.</p>
</div>
<div class="proof">
<p><span id="unlabeled-div-45" class="proof"><em>Proof</em>. </span>We</p>
</div>

</div>
</div>


























<div class="footnotes">
<hr />
<ol start="20">
<li id="fn20"><p>Old terminology: <eq env="math">f</eq> is <em>simple</em> at <eq env="math">x</eq>, or <eq env="math">x</eq> is a <em>simple</em> point for <eq env="math">f</eq>. This terminology led to confusion in many contexts (simple algebras, simple groups) and had to be abandoned.<a href="II.html#fnref20" class="footnote-back">↩︎</a></p></li>
<li id="fn21"><p>It is better to say, as in EGA IV 18.6.1, that <eq env="math">B</eq> is <em>essentially smooth</em> over <eq env="math">A</eq>.<a href="II.html#fnref21" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
<script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.13.13/dist/katex.min.js" integrity="sha384-pK1WpvzWVBQiP0/GjnvRxV4mOb0oxFuyRxJlk6vVw146n3egcN5C925NCP7a7BY8" crossorigin="anonymous"></script>

<script type="text/javascript">
  var $document = $(document);
  $document.ready(function() {
    //render maths with KaTeX
    $('eq').map(function() {
      var display = (this.getAttribute('env') == "displaymath");
      katex.render(this.textContent, this, {displayMode: display, fleqn: true, throwOnError: false});
    });
    
    //add anchor links to headers and itenv/rmenv
    $('.section h1, .section h2, .section h3, .section h4, .section h5').each(function() {
      anchor = '#' + $(this).parent().attr('id');
      $(this).addClass("hasAnchor").prepend('<a href="' + anchor + '" class="anchor"></a>');
    });
    $('.itenv, .rmenv, .eqtag').each(function() {
      if ($(this).attr('id') !== undefined) {
        anchor = '#' + $(this).attr('id');
        $(this).addClass("hasAnchor").prepend('<a href="' + anchor + '" class="anchor"></a>');
      };
    });
    
    //customise the header
    $('div.font-settings button.size-3').map(function() {
      this.setAttribute("class", "button size-2")
      if (this.innerText == "Sepia") {
        this.setAttribute("style", "display: none;");
      }
      if (this.innerText == "White") {
        this.innerText = "Light";
      }
      if (this.innerText == "Night") {
        this.innerText = "Dark";
      }
    });
    // (remove the <a> tag from the title)
    $('.book .book-header h1')[0].innerHTML = $('.book .book-header h1')[0].innerText
  });
</script>
            </section>

          </div>
        </div>
      </div>
<a href="I.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": {}
},
"fontsettings": {
"theme": "white",
"family": "serif",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/thosgood/sga/blob/main/sga-1/sga-1-ii/sga-1-ii.Rmd",
"text": null
},
"download": {},
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"info": false
});
});
</script>

</body>

</html>
